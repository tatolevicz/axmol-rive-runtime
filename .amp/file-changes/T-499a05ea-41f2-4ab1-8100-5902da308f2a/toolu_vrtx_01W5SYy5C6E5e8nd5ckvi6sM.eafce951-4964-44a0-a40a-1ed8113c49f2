{
  "id": "eafce951-4964-44a0-a40a-1ed8113c49f2",
  "uri": "file:///Users/arthurmotelevicz/Projects/AITomatoes/axmol_rive/HelloWorld/Source/MainScene.cpp",
  "before": "/****************************************************************************\n Copyright (c) 2019-present Axmol Engine contributors (see AUTHORS.md).\n\n https://axmol.dev/\n ****************************************************************************/\n\n#include \"MainScene.h\"\n\nusing namespace ax;\n\nMainScene::MainScene()\n{\n    _sceneID = 1;\n}\n\nMainScene::~MainScene()\n{\n    if (_touchListener)\n        _eventDispatcher->removeEventListener(_touchListener);\n    if (_keyboardListener)\n        _eventDispatcher->removeEventListener(_keyboardListener);\n    if (_mouseListener)\n        _eventDispatcher->removeEventListener(_mouseListener);\n}\n\nbool MainScene::init()\n{\n    if (!Scene::init())\n    {\n        return false;\n    }\n\n    auto visibleSize = _director->getVisibleSize();\n    auto origin = _director->getVisibleOrigin();\n    auto safeArea = _director->getSafeAreaRect();\n\n    // 1. Create a solid background color\n    auto background = LayerColor::create(Color4B(30, 30, 30, 255));\n    this->addChild(background, 0);\n\n    // 2. Add a title\n    auto label = Label::createWithTTF(\"Axmol Drawing Primitives\", \"fonts/Marker Felt.ttf\", 24);\n    if (label) {\n        label->setPosition(Vec2(origin.x + visibleSize.width / 2,\n                                origin.y + visibleSize.height - label->getContentSize().height - 10));\n        this->addChild(label, 1);\n    }\n\n    // 3. Create a DrawNode\n    auto drawNode = DrawNode::create();\n    // drawNode->setLineWidth(2.0f); // Set line width for this DrawNode\n    this->addChild(drawNode, 2);\n\n    // --- Drawing Examples ---\n    float startX = origin.x + 50;\n    float startY = origin.y + visibleSize.height - 100;\n    float gapX = 150;\n    float gapY = 150;\n\n    // Example 1: Points/Dots\n    drawNode->drawDot(Vec2(startX, startY), 10, Color::RED);\n    drawNode->drawDot(Vec2(startX + 30, startY), 10, Color::GREEN);\n    drawNode->drawDot(Vec2(startX + 60, startY), 10, Color::BLUE);\n    \n    auto labelDots = Label::createWithSystemFont(\"Dots\", \"Arial\", 12);\n    labelDots->setPosition(Vec2(startX + 30, startY - 30));\n    this->addChild(labelDots, 2);\n\n    // Example 2: Segments (Lines)\n    startX += gapX;\n    drawNode->drawLine(Vec2(startX, startY - 10), Vec2(startX + 80, startY + 10), Color::YELLOW);\n    // drawSegment allows setting thickness\n    drawNode->drawSegment(Vec2(startX, startY - 30), Vec2(startX + 80, startY - 10), 5.0f, Color::MAGENTA);\n\n    auto labelLines = Label::createWithSystemFont(\"Lines\", \"Arial\", 12);\n    labelLines->setPosition(Vec2(startX + 40, startY - 50));\n    this->addChild(labelLines, 2);\n\n    // Example 3: Circles\n    startX += gapX;\n    // center, radius, angle, segments, drawLineToCenter, scaleX, scaleY\n    drawNode->drawCircle(Vec2(startX + 40, startY), 30, 0, 50, false, 1.0f, 1.0f, Color::WHITE);\n    drawNode->drawSolidCircle(Vec2(startX + 40, startY - 40), 20, 0, 50, 1.0f, 1.0f, Color(0.0f, 1.0f, 1.0f, 0.5f)); // Semi-transparent cyan\n\n    auto labelCircles = Label::createWithSystemFont(\"Circles\", \"Arial\", 12);\n    labelCircles->setPosition(Vec2(startX + 40, startY - 80));\n    this->addChild(labelCircles, 2);\n\n    // Example 4: Rectangles\n    startX = origin.x + 50;\n    startY -= gapY;\n    drawNode->drawRect(Vec2(startX, startY), Vec2(startX + 80, startY + 60), Color::ORANGE);\n    drawNode->drawSolidRect(Vec2(startX + 10, startY + 10), Vec2(startX + 70, startY + 50), Color(1.0f, 0.5f, 0.0f, 0.5f));\n\n    auto labelRects = Label::createWithSystemFont(\"Rects\", \"Arial\", 12);\n    labelRects->setPosition(Vec2(startX + 40, startY - 20));\n    this->addChild(labelRects, 2);\n\n    // Example 5: Polygons\n    startX += gapX;\n    Vec2 points[] = {\n        Vec2(startX, startY),\n        Vec2(startX + 40, startY + 60),\n        Vec2(startX + 80, startY + 20),\n        Vec2(startX + 40, startY - 20)\n    };\n    drawNode->drawPolygon(points, 4, Color(0.5f, 0.0f, 0.5f, 0.5f), 2, Color::MAGENTA);\n\n    auto labelPoly = Label::createWithSystemFont(\"Polygon\", \"Arial\", 12);\n    labelPoly->setPosition(Vec2(startX + 40, startY - 40));\n    this->addChild(labelPoly, 2);\n\n    // Example 6: Bezier Curves\n    startX += gapX;\n    // Quadratic\n    drawNode->drawQuadBezier(Vec2(startX, startY), Vec2(startX + 40, startY + 80), Vec2(startX + 80, startY), 50, Color::GREEN);\n    // Cubic\n    drawNode->drawCubicBezier(Vec2(startX, startY - 20), Vec2(startX + 20, startY - 60), Vec2(startX + 60, startY + 20), Vec2(startX + 80, startY - 20), 50, Color::RED);\n\n    auto labelBezier = Label::createWithSystemFont(\"Bezier\", \"Arial\", 12);\n    labelBezier->setPosition(Vec2(startX + 40, startY - 40));\n    this->addChild(labelBezier, 2);\n\n    // Example 7: Catmull-Rom Spline (Cardinal Spline)\n    startX = origin.x + 50;\n    startY -= gapY;\n    \n    std::vector<Vec2> splinePoints = {\n        Vec2(startX, startY),\n        Vec2(startX + 30, startY + 50),\n        Vec2(startX + 60, startY - 20),\n        Vec2(startX + 90, startY + 40),\n        Vec2(startX + 120, startY)\n    };\n    drawNode->drawCardinalSpline(splinePoints.data(), (unsigned int)splinePoints.size(), 0.5f, 50, Color::CYAN);\n\n    auto labelSpline = Label::createWithSystemFont(\"Cardinal Spline\", \"Arial\", 12);\n    labelSpline->setPosition(Vec2(startX + 60, startY - 20));\n    this->addChild(labelSpline, 2);\n\n    // Update loop for animations if needed\n    scheduleUpdate();\n\n    // Close button\n    auto closeItem = MenuItemImage::create(\"CloseNormal.png\", \"CloseSelected.png\",\n                                           AX_CALLBACK_1(MainScene::menuCloseCallback, this));\n    if (closeItem) {\n        float x = safeArea.origin.x + safeArea.size.width - closeItem->getContentSize().width / 2;\n        float y = safeArea.origin.y + closeItem->getContentSize().height / 2;\n        closeItem->setPosition(Vec2(x, y));\n        \n        auto menu = Menu::create(closeItem, NULL);\n        menu->setPosition(Vec2::ZERO);\n        this->addChild(menu, 1);\n    }\n\n    return true;\n}\n\nvoid MainScene::update(float delta)\n{\n    // Optional: Add animations here\n}\n\nvoid MainScene::menuCloseCallback(ax::Object* sender)\n{\n    _director->end();\n}\n\n// Input handling stubs\nvoid MainScene::onTouchesBegan(const std::vector<ax::Touch*>& touches, ax::Event* event) {}\nvoid MainScene::onTouchesMoved(const std::vector<ax::Touch*>& touches, ax::Event* event) {}\nvoid MainScene::onTouchesEnded(const std::vector<ax::Touch*>& touches, ax::Event* event) {}\nbool MainScene::onMouseDown(Event* event) { return true; }\nbool MainScene::onMouseUp(Event* event) { return true; }\nbool MainScene::onMouseMove(Event* event) { return true; }\nbool MainScene::onMouseScroll(Event* event) { return true; }\nvoid MainScene::onKeyPressed(EventKeyboard::KeyCode code, Event* event) {}\nvoid MainScene::onKeyReleased(EventKeyboard::KeyCode code, Event* event) {}\n",
  "after": "/****************************************************************************\n Copyright (c) 2019-present Axmol Engine contributors (see AUTHORS.md).\n\n https://axmol.dev/\n ****************************************************************************/\n\n#include \"MainScene.h\"\n\nusing namespace ax;\n\nMainScene::MainScene()\n{\n    _sceneID = 1;\n}\n\nMainScene::~MainScene()\n{\n    if (_touchListener)\n        _eventDispatcher->removeEventListener(_touchListener);\n    if (_keyboardListener)\n        _eventDispatcher->removeEventListener(_keyboardListener);\n    if (_mouseListener)\n        _eventDispatcher->removeEventListener(_mouseListener);\n}\n\nbool MainScene::init()\n{\n    if (!Scene::init())\n    {\n        return false;\n    }\n\n    auto visibleSize = _director->getVisibleSize();\n    auto origin = _director->getVisibleOrigin();\n    auto safeArea = _director->getSafeAreaRect();\n\n    // 1. Create a solid background color\n    auto background = LayerColor::create(Color(0.11f, 0.11f, 0.11f, 1.0f));\n    this->addChild(background, 0);\n\n    // 2. Add a title\n    auto label = Label::createWithTTF(\"Axmol Drawing Primitives\", \"fonts/Marker Felt.ttf\", 24);\n    if (label) {\n        label->setPosition(Vec2(origin.x + visibleSize.width / 2,\n                                origin.y + visibleSize.height - label->getContentSize().height - 10));\n        this->addChild(label, 1);\n    }\n\n    // 3. Create a DrawNode\n    auto drawNode = DrawNode::create();\n    // drawNode->setLineWidth(2.0f); // Set line width for this DrawNode\n    this->addChild(drawNode, 2);\n\n    // --- Drawing Examples ---\n    float startX = origin.x + 50;\n    float startY = origin.y + visibleSize.height - 100;\n    float gapX = 150;\n    float gapY = 150;\n\n    // Example 1: Points/Dots\n    drawNode->drawDot(Vec2(startX, startY), 10, Color::RED);\n    drawNode->drawDot(Vec2(startX + 30, startY), 10, Color::GREEN);\n    drawNode->drawDot(Vec2(startX + 60, startY), 10, Color::BLUE);\n    \n    auto labelDots = Label::createWithSystemFont(\"Dots\", \"Arial\", 12);\n    labelDots->setPosition(Vec2(startX + 30, startY - 30));\n    this->addChild(labelDots, 2);\n\n    // Example 2: Segments (Lines)\n    startX += gapX;\n    drawNode->drawLine(Vec2(startX, startY - 10), Vec2(startX + 80, startY + 10), Color::YELLOW);\n    // drawSegment allows setting thickness\n    drawNode->drawSegment(Vec2(startX, startY - 30), Vec2(startX + 80, startY - 10), 5.0f, Color::MAGENTA);\n\n    auto labelLines = Label::createWithSystemFont(\"Lines\", \"Arial\", 12);\n    labelLines->setPosition(Vec2(startX + 40, startY - 50));\n    this->addChild(labelLines, 2);\n\n    // Example 3: Circles\n    startX += gapX;\n    // center, radius, angle, segments, drawLineToCenter, scaleX, scaleY\n    drawNode->drawCircle(Vec2(startX + 40, startY), 30, 0, 50, false, 1.0f, 1.0f, Color::WHITE);\n    drawNode->drawSolidCircle(Vec2(startX + 40, startY - 40), 20, 0, 50, 1.0f, 1.0f, Color(0.0f, 1.0f, 1.0f, 0.5f)); // Semi-transparent cyan\n\n    auto labelCircles = Label::createWithSystemFont(\"Circles\", \"Arial\", 12);\n    labelCircles->setPosition(Vec2(startX + 40, startY - 80));\n    this->addChild(labelCircles, 2);\n\n    // Example 4: Rectangles\n    startX = origin.x + 50;\n    startY -= gapY;\n    drawNode->drawRect(Vec2(startX, startY), Vec2(startX + 80, startY + 60), Color::ORANGE);\n    drawNode->drawSolidRect(Vec2(startX + 10, startY + 10), Vec2(startX + 70, startY + 50), Color(1.0f, 0.5f, 0.0f, 0.5f));\n\n    auto labelRects = Label::createWithSystemFont(\"Rects\", \"Arial\", 12);\n    labelRects->setPosition(Vec2(startX + 40, startY - 20));\n    this->addChild(labelRects, 2);\n\n    // Example 5: Polygons\n    startX += gapX;\n    Vec2 points[] = {\n        Vec2(startX, startY),\n        Vec2(startX + 40, startY + 60),\n        Vec2(startX + 80, startY + 20),\n        Vec2(startX + 40, startY - 20)\n    };\n    drawNode->drawPolygon(points, 4, Color(0.5f, 0.0f, 0.5f, 0.5f), 2, Color::MAGENTA);\n\n    auto labelPoly = Label::createWithSystemFont(\"Polygon\", \"Arial\", 12);\n    labelPoly->setPosition(Vec2(startX + 40, startY - 40));\n    this->addChild(labelPoly, 2);\n\n    // Example 6: Bezier Curves\n    startX += gapX;\n    // Quadratic\n    drawNode->drawQuadBezier(Vec2(startX, startY), Vec2(startX + 40, startY + 80), Vec2(startX + 80, startY), 50, Color::GREEN);\n    // Cubic\n    drawNode->drawCubicBezier(Vec2(startX, startY - 20), Vec2(startX + 20, startY - 60), Vec2(startX + 60, startY + 20), Vec2(startX + 80, startY - 20), 50, Color::RED);\n\n    auto labelBezier = Label::createWithSystemFont(\"Bezier\", \"Arial\", 12);\n    labelBezier->setPosition(Vec2(startX + 40, startY - 40));\n    this->addChild(labelBezier, 2);\n\n    // Example 7: Catmull-Rom Spline (Cardinal Spline)\n    startX = origin.x + 50;\n    startY -= gapY;\n    \n    std::vector<Vec2> splinePoints = {\n        Vec2(startX, startY),\n        Vec2(startX + 30, startY + 50),\n        Vec2(startX + 60, startY - 20),\n        Vec2(startX + 90, startY + 40),\n        Vec2(startX + 120, startY)\n    };\n    drawNode->drawCardinalSpline(splinePoints.data(), (unsigned int)splinePoints.size(), 0.5f, 50, Color::CYAN);\n\n    auto labelSpline = Label::createWithSystemFont(\"Cardinal Spline\", \"Arial\", 12);\n    labelSpline->setPosition(Vec2(startX + 60, startY - 20));\n    this->addChild(labelSpline, 2);\n\n    // Update loop for animations if needed\n    scheduleUpdate();\n\n    // Close button\n    auto closeItem = MenuItemImage::create(\"CloseNormal.png\", \"CloseSelected.png\",\n                                           AX_CALLBACK_1(MainScene::menuCloseCallback, this));\n    if (closeItem) {\n        float x = safeArea.origin.x + safeArea.size.width - closeItem->getContentSize().width / 2;\n        float y = safeArea.origin.y + closeItem->getContentSize().height / 2;\n        closeItem->setPosition(Vec2(x, y));\n        \n        auto menu = Menu::create(closeItem, NULL);\n        menu->setPosition(Vec2::ZERO);\n        this->addChild(menu, 1);\n    }\n\n    return true;\n}\n\nvoid MainScene::update(float delta)\n{\n    // Optional: Add animations here\n}\n\nvoid MainScene::menuCloseCallback(ax::Object* sender)\n{\n    _director->end();\n}\n\n// Input handling stubs\nvoid MainScene::onTouchesBegan(const std::vector<ax::Touch*>& touches, ax::Event* event) {}\nvoid MainScene::onTouchesMoved(const std::vector<ax::Touch*>& touches, ax::Event* event) {}\nvoid MainScene::onTouchesEnded(const std::vector<ax::Touch*>& touches, ax::Event* event) {}\nbool MainScene::onMouseDown(Event* event) { return true; }\nbool MainScene::onMouseUp(Event* event) { return true; }\nbool MainScene::onMouseMove(Event* event) { return true; }\nbool MainScene::onMouseScroll(Event* event) { return true; }\nvoid MainScene::onKeyPressed(EventKeyboard::KeyCode code, Event* event) {}\nvoid MainScene::onKeyReleased(EventKeyboard::KeyCode code, Event* event) {}\n",
  "diff": "Index: file:///Users/arthurmotelevicz/Projects/AITomatoes/axmol_rive/HelloWorld/Source/MainScene.cpp\n===================================================================\n--- file:///Users/arthurmotelevicz/Projects/AITomatoes/axmol_rive/HelloWorld/Source/MainScene.cpp\toriginal\n+++ file:///Users/arthurmotelevicz/Projects/AITomatoes/axmol_rive/HelloWorld/Source/MainScene.cpp\tmodified\n@@ -34,9 +34,9 @@\n     auto origin = _director->getVisibleOrigin();\n     auto safeArea = _director->getSafeAreaRect();\n \n     // 1. Create a solid background color\n-    auto background = LayerColor::create(Color4B(30, 30, 30, 255));\n+    auto background = LayerColor::create(Color(0.11f, 0.11f, 0.11f, 1.0f));\n     this->addChild(background, 0);\n \n     // 2. Add a title\n     auto label = Label::createWithTTF(\"Axmol Drawing Primitives\", \"fonts/Marker Felt.ttf\", 24);\n",
  "isNewFile": false,
  "reverted": false,
  "timestamp": 1763772263652
}